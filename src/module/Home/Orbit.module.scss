.orbit {
  @include aspect-ratio;

  position: fixed;
  top: 25vh;
  right: calc(-100% + 42vw - var(--scroll-width, 0px));
  z-index: 0;

  display: grid;

  width: calc(118vw - var(--scroll-width, 0px));

  pointer-events: none;
}

.chart {
  position: fixed;
  right: 0;
  bottom: 0;
  z-index: 0;
  z-index: -1;

  /* stylelint-disable-next-line length-zero-no-unit */
  width: var(59vw - var(--scroll-width, 0px));

  pointer-events: none;

  path {
    stroke-dasharray: 10000;
    stroke-dashoffset: 10000;

    animation: chart-to-the-moon 5s ease 1s forwards,
      chart-pulse 5s ease-in-out 1s infinite;
  }
}

@keyframes chart-to-the-moon {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes chart-pulse {
  0% {
    stroke-opacity: 1;
  }

  50% {
    stroke-opacity: 0.2;
  }

  100% {
    stroke-opacity: 1;
  }
}

.planet {
  width: 100%;
  height: 100%;

  background-image: radial-gradient(
    46% 46% at 56.43% 27.66%,
    #fff 0%,
    rgba(#d9d9d9, 0) 100%
  );
  border-radius: 50%;

  animation: rotate-planet 20s linear infinite both;
}

@keyframes rotate-planet {
  0% {
    transform: rotateZ(0deg);
  }

  50% {
    transform: rotateZ(15deg);
  }

  100% {
    transform: rotateZ(0deg);
  }
}

.spaceship {
  position: absolute;
  top: 20vh;
  left: calc(20vw - var(--scroll-width, 0px));
  z-index: 0;

  display: grid;

  width: 277px;
  height: 277px;

  > * {
    grid-row: 1;
    grid-column: 1;
  }

  &--to-the-orbit {
    animation: spaceship-to-the-orbit 1.5s linear 500ms both,
      spaceship-drifting 5s linear 2.1s infinite;
  }

  &--to-the-moon {
    animation: spaceship-to-the-moon 2s linear 1s both;
  }
}

.rocket-flame {
  position: relative;
  top: 140px;
  left: -50px;
  z-index: -1;

  display: grid;

  path {
    stroke-dasharray: 10000;
    stroke-dashoffset: 10;

    animation: spaceship-launch 1s ease-in;
  }
}

@keyframes spaceship-to-the-orbit {
  0% {
    transform: translate(-200px, 400px);
  }

  100% {
    transform: translate(0, 0);
  }
}

@keyframes spaceship-to-the-moon {
  0% {
    transform: translate(0, 0);
  }

  100% {
    transform: translate(1000px, -1500px);
  }
}

@keyframes spaceship-drifting {
  0% {
    transform: translate(0);
  }

  25% {
    transform: translate(5px, -5px);
  }

  50% {
    transform: translate(0, -10px);
  }

  75% {
    transform: translate(-5px, -5px);
  }

  100% {
    transform: translate(0);
  }
}

@keyframes spaceship-launch {
  0% {
    fill-opacity: 0;
    stroke-opacity: 0;
  }

  100% {
    fill-opacity: 1;
    stroke-dashoffset: 0;
  }
}
